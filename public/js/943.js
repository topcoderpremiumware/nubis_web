"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[943],{26447:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(63366),r=n(87462),i=n(67294),s=n(95408),o=n(44472),c=n(39707),l=n(59766),u=n(90948),d=n(71657),p=n(85893);const m=["component","direction","spacing","divider","children"];function h(e,t){const n=i.Children.toArray(e).filter(Boolean);return n.reduce(((e,a,r)=>(e.push(a),r<n.length-1&&e.push(i.cloneElement(t,{key:`separator-${r}`})),e)),[])}const f=(0,u.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let n=(0,r.Z)({display:"flex"},(0,s.k9)({theme:t},(0,s.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const a=(0,o.hB)(t),r=Object.keys(t.breakpoints.values).reduce(((t,n)=>(null==e.spacing[n]&&null==e.direction[n]||(t[n]=!0),t)),{}),i=(0,s.P$)({values:e.direction,base:r}),c=(0,s.P$)({values:e.spacing,base:r}),u=(t,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${r=n?i[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]}`]:(0,o.NA)(a,t)}};var r};n=(0,l.Z)(n,(0,s.k9)({theme:t},c,u))}return n})),g=i.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiStack"}),i=(0,c.Z)(n),{component:s="div",direction:o="column",spacing:l=0,divider:u,children:g}=i,v=(0,a.Z)(i,m),y={direction:o,spacing:l};return(0,p.jsx)(f,(0,r.Z)({as:s,ownerState:y,ref:t},v,{children:u?h(g,u):g}))}))},39707:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(87462),r=n(63366),i=n(59766),s=n(26809);const o=["sx"];function c(e){const{sx:t}=e,n=(0,r.Z)(e,o),{systemProps:c,otherProps:l}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((n=>{s.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t})(n);let u;return u=Array.isArray(t)?[c,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,i.P)(n)?(0,a.Z)({},c,n):c}:(0,a.Z)({},c,t),(0,a.Z)({},l,{sx:u})}},68943:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(67294),r=n(26793),i=n(26447),s=n(22715),o=n(69397),c=n(8838),l=n(85893);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const p=function(){var e=(0,r.$)().t,t=u((0,a.useState)(""),2),n=t[0],d=t[1],p=u((0,a.useState)(""),2),m=p[0],h=p[1],f=u((0,a.useState)(""),2),g=f[0],v=f[1],y=function(e){"key"===e.target.name&&d(e.target.value),"secret"===e.target.name&&h(e.target.value),"token"===e.target.name&&v(e.target.value)};(0,a.useEffect)((function(){k(),x(),S(),c.Z.on("placeChanged",(function(){k(),x(),S()}))}),[]);var k=function(){axios.get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"sms-api-key"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){d(e.data.value)})).catch((function(e){d("")}))},x=function(){axios.get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"sms-api-secret"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){h(e.data.value)})).catch((function(e){h("")}))},S=function(){axios.get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"sms-api-token"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){v(e.data.value)})).catch((function(e){v("")}))};return(0,l.jsxs)("div",{className:"pages__container",children:[(0,l.jsx)(i.Z,{spacing:10,mb:2,direction:"row",alignItems:"center",children:(0,l.jsx)("h2",{children:e("SMS Keys")})}),(0,l.jsx)("div",{className:"container-fluid",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)("a",{href:"https://gatewayapi.com/docs/apis/rest/",target:"_blank",children:e("Get API keys")})}),(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),axios.post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"sms-api-key",value:n}).then((function(e){c.Z.dispatch("notification",{type:"success",message:"SMS API key saved"})})).catch((function(e){})),axios.post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"sms-api-secret",value:m}).then((function(e){c.Z.dispatch("notification",{type:"success",message:"SMS API secret saved"})})).catch((function(e){})),axios.post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"sms-api-token",value:g}).then((function(e){c.Z.dispatch("notification",{type:"success",message:"SMS API token saved"})})).catch((function(e){}))},children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(s.Z,{label:e("Key"),size:"small",fullWidth:!0,type:"text",id:"key",name:"key",required:!0,value:n,onChange:y})}),(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(s.Z,{label:e("Secret"),size:"small",fullWidth:!0,type:"text",id:"secret",name:"secret",required:!0,value:m,onChange:y})}),(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(s.Z,{label:e("Token"),size:"small",fullWidth:!0,type:"text",id:"token",name:"token",required:!0,value:g,onChange:y})}),(0,l.jsx)(o.Z,{variant:"contained",type:"submit",children:e("Save")})]})]})})})]})}}}]);