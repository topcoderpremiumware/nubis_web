"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[654],{26447:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(63366),o=n(87462),i=n(67294),a=n(95408),c=n(44472),s=n(39707),l=n(59766),u=n(90948),p=n(71657),d=n(85893);const f=["component","direction","spacing","divider","children"];function m(e,t){const n=i.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,o)=>(e.push(r),o<n.length-1&&e.push(i.cloneElement(t,{key:`separator-${o}`})),e)),[])}const g=(0,u.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let n=(0,o.Z)({display:"flex"},(0,a.k9)({theme:t},(0,a.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const r=(0,c.hB)(t),o=Object.keys(t.breakpoints.values).reduce(((t,n)=>(null==e.spacing[n]&&null==e.direction[n]||(t[n]=!0),t)),{}),i=(0,a.P$)({values:e.direction,base:o}),s=(0,a.P$)({values:e.spacing,base:o}),u=(t,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=n?i[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,c.NA)(r,t)}};var o};n=(0,l.Z)(n,(0,a.k9)({theme:t},s,u))}return n})),h=i.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiStack"}),i=(0,s.Z)(n),{component:a="div",direction:c="column",spacing:l=0,divider:u,children:h}=i,v=(0,r.Z)(i,f),y={direction:c,spacing:l};return(0,d.jsx)(g,(0,o.Z)({as:a,ownerState:y,ref:t},v,{children:u?m(h,u):h}))}))},39707:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(87462),o=n(63366),i=n(59766),a=n(26809);const c=["sx"];function s(e){const{sx:t}=e,n=(0,o.Z)(e,c),{systemProps:s,otherProps:l}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((n=>{a.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t})(n);let u;return u=Array.isArray(t)?[s,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,i.P)(n)?(0,r.Z)({},s,n):s}:(0,r.Z)({},s,t),(0,r.Z)({},l,{sx:u})}},17569:(e,t,n)=>{n.d(t,{Z:()=>c});n(67294);var r=n(83321),o=n(26793),i=n(26447),a=n(85893);function c(e){var t=(0,o.$)().t;return(0,a.jsxs)(i.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,a.jsxs)(r.Z,{variant:"contained",component:"label",children:[t("Upload"),(0,a.jsx)("input",{hidden:!0,accept:"image/*",name:e.name,onChange:function(t){e.onChange(t)},type:"file"})]}),(0,a.jsx)("div",{children:t("Maximum upload file size: 1MB")})]})}},39654:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r=n(67294),o=n(17569),i=n(26793),a=n(17075),c=n(93379),s=n.n(c),l=n(59833),u={insert:"head",singleton:!1};s()(l.Z,u);l.Z.locals;var p=n(8838),d=n(26447),f=n(83321),m=n(22715),g=n(96974),h=n(85893);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(){var e=(0,i.$)().t,t=(0,g.s0)(),n=j((0,r.useState)({}),2),c=n[0],s=n[1],l=j((0,r.useState)(""),2),u=l[0],v=l[1];(0,r.useEffect)((function(){O(),x(),p.Z.on("placeChanged",(function(){O(),x()}))}),[]);var k,Z=function(e){if(e.target.files&&e.target.files.length>0){var t=new FormData;t.append("place_id",localStorage.getItem("place_id")),t.append("file",e.target.files[0]),axios.post("".concat("","/api/files/").concat(e.target.name),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s((function(t){return y(y({},t),{},b({},e.data.purpose,e.data))}))})).catch((function(e){if(e.response&&e.response.data&&e.response.data.errors)for(var t=0,n=Object.entries(e.response.data.errors);t<n.length;t++){var r=j(n[t],2),o=(r[0],r[1]);p.Z.dispatch("notification",{type:"error",message:o})}else 401===e.response.status?p.Z.dispatch("notification",{type:"error",message:"Authorization error"}):(p.Z.dispatch("notification",{type:"error",message:e.message}),console.log("Error",e.message))}))}"online_booking_description"===e.target.name&&v(e.target.value)},x=function(){axios.get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"online-booking-description"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){v(e.data.value)})).catch((function(e){v("")}))},O=function(){axios.get("/api/files",{params:{place_id:localStorage.getItem("place_id")},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=[];e.data.forEach((function(e){t[e.purpose]=e})),s(t)})).catch((function(e){s({})}))};return(0,h.jsxs)("div",{className:"pages__container",children:[(0,h.jsxs)(d.Z,{spacing:10,mb:2,direction:"row",alignItems:"center",children:[(0,h.jsx)("h2",{children:e("Pictures")}),(0,h.jsx)(f.Z,{variant:"contained",size:"sm",type:"button",onClick:function(){return t("/VideoGuides")},children:e("See Nubis Academy")})]}),(0,h.jsx)(a.Z,{className:"my-3",component:"div",children:e("Online booking picture")}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,h.jsx)(o.Z,{name:"online_booking_picture",onChange:function(e){Z(e)}}),(0,h.jsx)(m.Z,{label:e("Online Booking Description"),size:"small",fullWidth:!0,multiline:!0,rows:"3",className:"my-3",type:"text",id:"online_booking_description",name:"online_booking_description",onChange:Z,value:u}),(0,h.jsx)(f.Z,{variant:"contained",onClick:function(e){e.preventDefault(),axios.post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"online-booking-description",value:u}).then((function(e){p.Z.dispatch("notification",{type:"success",message:"Online Booking Description saved"})})).catch((function(e){}))},children:e("Save")})]}),(0,h.jsx)("div",{className:"col-md-6 mb-3",children:(0,h.jsx)("img",{className:"added_picture",alt:"",src:(k="online_booking_picture",c.hasOwnProperty(k)?c[k].url:"")})})]})]})}},59833:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(23645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".added_picture{width:100%}",""]);const i=o}}]);