"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[943],{68943:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(67294),i=a(26793),r=a(22715),s=a(69397),c=a(8838),o=a(85893);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,i,r=[],s=!0,c=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{s||null==a.return||a.return()}finally{if(c)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const d=function(){var e=(0,i.$)().t,t=l((0,n.useState)(""),2),a=t[0],u=t[1],d=l((0,n.useState)(""),2),m=d[0],p=d[1],f=l((0,n.useState)(""),2),h=f[0],g=f[1],v=function(e){"key"===e.target.name&&u(e.target.value),"secret"===e.target.name&&p(e.target.value),"token"===e.target.name&&g(e.target.value)};(0,n.useEffect)((function(){y(),S(),x(),c.Z.on("placeChanged",(function(){y(),S(),x()}))}),[]);var y=function(){axios.get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"sms-api-key"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){u(e.data.value)})).catch((function(e){u("")}))},S=function(){axios.get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"sms-api-secret"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){p(e.data.value)})).catch((function(e){p("")}))},x=function(){axios.get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"sms-api-token"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){g(e.data.value)})).catch((function(e){g("")}))};return(0,o.jsxs)("div",{className:"pages__container",children:[(0,o.jsx)("h2",{children:e("SMS Keys")}),(0,o.jsx)("div",{className:"container-fluid",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)("a",{href:"https://gatewayapi.com/docs/apis/rest/",target:"_blank",children:e("Get API keys")})}),(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),axios.post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"sms-api-key",value:a}).then((function(e){c.Z.dispatch("notification",{type:"success",message:"SMS API key saved"})})).catch((function(e){})),axios.post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"sms-api-secret",value:m}).then((function(e){c.Z.dispatch("notification",{type:"success",message:"SMS API secret saved"})})).catch((function(e){})),axios.post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"sms-api-token",value:h}).then((function(e){c.Z.dispatch("notification",{type:"success",message:"SMS API token saved"})})).catch((function(e){}))},children:[(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)(r.Z,{label:e("Key"),size:"small",fullWidth:!0,type:"text",id:"key",name:"key",required:!0,value:a,onChange:v})}),(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)(r.Z,{label:e("Secret"),size:"small",fullWidth:!0,type:"text",id:"secret",name:"secret",required:!0,value:m,onChange:v})}),(0,o.jsx)("div",{className:"mb-3",children:(0,o.jsx)(r.Z,{label:e("Token"),size:"small",fullWidth:!0,type:"text",id:"token",name:"token",required:!0,value:h,onChange:v})}),(0,o.jsx)(s.Z,{variant:"contained",type:"submit",children:e("Save")})]})]})})})]})}}}]);