"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[869],{35097:(e,t,r)=>{r.d(t,{Z:()=>a});const a=(0,r(1588).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},84592:(e,t,r)=>{r.d(t,{Z:()=>a});const a=(0,r(1588).Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},26336:(e,t,r)=>{r.d(t,{Z:()=>a});const a=(0,r(1588).Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},63931:(e,t,r)=>{r.d(t,{Z:()=>S});var a=r(63366),n=r(87462),i=r(67294),o=r(86010),s=r(94780),c=r(41796),l=r(90948),d=r(71657),u=r(59773),p=r(62308),m=r(58974),h=r(51705),g=r(35097),v=r(84592),f=r(26336),y=r(42429),b=r(85893);const Z=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],x=(0,l.ZP)(p.Z,{shouldForwardProp:e=>(0,l.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,n.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.Z.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${y.Z.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${y.Z.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${y.Z.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${y.Z.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${g.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${g.Z.inset}`]:{marginLeft:52},[`& .${f.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${f.Z.inset}`]:{paddingLeft:36},[`& .${v.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,n.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${v.Z.root} svg`]:{fontSize:"1.25rem"}})))),S=i.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:p=!1,divider:g=!1,disableGutters:v=!1,focusVisibleClassName:f,role:S="menuitem",tabIndex:k}=r,j=(0,a.Z)(r,Z),w=i.useContext(u.Z),I={dense:p||w.dense||!1,disableGutters:v},C=i.useRef(null);(0,m.Z)((()=>{c&&C.current&&C.current.focus()}),[c]);const $=(0,n.Z)({},r,{dense:I.dense,divider:g,disableGutters:v}),A=(e=>{const{disabled:t,dense:r,divider:a,disableGutters:i,selected:o,classes:c}=e,l={root:["root",r&&"dense",t&&"disabled",!i&&"gutters",a&&"divider",o&&"selected"]},d=(0,s.Z)(l,y.K,c);return(0,n.Z)({},c,d)})(r),O=(0,h.Z)(C,t);let P;return r.disabled||(P=void 0!==k?k:-1),(0,b.jsx)(u.Z.Provider,{value:I,children:(0,b.jsx)(x,(0,n.Z)({ref:O,role:S,tabIndex:P,component:l,focusVisibleClassName:(0,o.Z)(A.focusVisible,f)},j,{ownerState:$,classes:A}))})}))},42429:(e,t,r)=>{r.d(t,{K:()=>n,Z:()=>i});var a=r(34867);function n(e){return(0,a.Z)("MuiMenuItem",e)}const i=(0,r(1588).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"])},26447:(e,t,r)=>{r.d(t,{Z:()=>v});var a=r(63366),n=r(87462),i=r(67294),o=r(95408),s=r(44472),c=r(39707),l=r(59766),d=r(90948),u=r(71657),p=r(85893);const m=["component","direction","spacing","divider","children"];function h(e,t){const r=i.Children.toArray(e).filter(Boolean);return r.reduce(((e,a,n)=>(e.push(a),n<r.length-1&&e.push(i.cloneElement(t,{key:`separator-${n}`})),e)),[])}const g=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let r=(0,n.Z)({display:"flex"},(0,o.k9)({theme:t},(0,o.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const a=(0,s.hB)(t),n=Object.keys(t.breakpoints.values).reduce(((t,r)=>(null==e.spacing[r]&&null==e.direction[r]||(t[r]=!0),t)),{}),i=(0,o.P$)({values:e.direction,base:n}),c=(0,o.P$)({values:e.spacing,base:n}),d=(t,r)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${n=r?i[r]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[n]}`]:(0,s.NA)(a,t)}};var n};r=(0,l.Z)(r,(0,o.k9)({theme:t},c,d))}return r})),v=i.forwardRef((function(e,t){const r=(0,u.Z)({props:e,name:"MuiStack"}),i=(0,c.Z)(r),{component:o="div",direction:s="column",spacing:l=0,divider:d,children:v}=i,f=(0,a.Z)(i,m),y={direction:s,spacing:l};return(0,p.jsx)(g,(0,n.Z)({as:o,ownerState:y,ref:t},f,{children:d?h(v,d):v}))}))},39707:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(87462),n=r(63366),i=r(59766),o=r(26809);const s=["sx"];function c(e){const{sx:t}=e,r=(0,n.Z)(e,s),{systemProps:c,otherProps:l}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((r=>{o.Gc[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t})(r);let d;return d=Array.isArray(t)?[c,...t]:"function"==typeof t?(...e)=>{const r=t(...e);return(0,i.P)(r)?(0,a.Z)({},c,r):c}:(0,a.Z)({},c,t),(0,a.Z)({},l,{sx:d})}},74869:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var a=r(67294),n=r(26793),i=r(26447),o=r(69397),s=r(16012),c=r(63931),l=r(22715),d=r(8838),u=r(9669),p=r.n(u),m=r(96974),h=r(85893);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var a,n,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw n}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}const f=function(){var e=(0,n.$)().t,t=(0,m.s0)(),r=g((0,a.useState)("Stripe"),2),u=r[0],v=r[1],f=g((0,a.useState)(""),2),y=f[0],b=f[1],Z=g((0,a.useState)(""),2),x=Z[0],S=Z[1],k=g((0,a.useState)(""),2),j=k[0],w=k[1];(0,a.useEffect)((function(){I(),C(),$(),d.Z.on("placeChanged",(function(){I(),C(),$()}))}),[]);var I=function(){p().get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"stripe-key"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){b(e.data.value)})).catch((function(e){b("")}))},C=function(){p().get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"stripe-secret"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){S(e.data.value)})).catch((function(e){S("")}))},$=function(){p().get("".concat("","/api/settings"),{params:{place_id:localStorage.getItem("place_id"),name:"stripe-webhook-secret"},headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){w(e.data.value)})).catch((function(e){w("")}))};return(0,h.jsxs)("div",{className:"pages__container",children:[(0,h.jsxs)(i.Z,{spacing:10,mb:2,direction:"row",alignItems:"center",children:[(0,h.jsx)("h2",{children:e("Payment Gateway")}),(0,h.jsx)(o.Z,{variant:"contained",size:"sm",type:"button",onClick:function(){return t("/VideoGuides")},children:e("See Nubis Academy")})]}),(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"mt-3",children:(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p().post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"stripe-key",value:y},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){d.Z.dispatch("notification",{type:"success",message:"Stripe Key saved"})})).catch((function(e){})),p().post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"stripe-secret",value:x},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){d.Z.dispatch("notification",{type:"success",message:"Stripe Secret saved"})})).catch((function(e){})),p().post("".concat("","/api/settings"),{place_id:localStorage.getItem("place_id"),name:"stripe-webhook-secret",value:j},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){d.Z.dispatch("notification",{type:"success",message:"Stripe Webhook Secret saved"})})).catch((function(e){}))},children:[(0,h.jsxs)("div",{className:"d-flex align-items-center mb-3 gap-2",children:[(0,h.jsxs)("h5",{children:[e("Payment Gateway"),":"]}),(0,h.jsx)(s.Z,{value:u,id:"type",name:"type",size:"small",onChange:v,children:(0,h.jsx)(c.Z,{value:"Stripe",children:"Stripe"})})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-lg-6",children:[(0,h.jsx)("p",{children:e("In order to receive credit card payments and deposits from your guests, Nubisreservation must be connected to a Stripe account.")}),(0,h.jsxs)("p",{children:[e("With Stripe, you can quickly start receiving payments via credit card - without costs for creation or subscription. You can read more at "),(0,h.jsx)("a",{href:"https://stripe.com",children:"https://stripe.com"})]}),(0,h.jsx)("p",{children:e('Below, you must insert the "Publishable key", "Secret key" found under Company -> Developers -> Api Keys when you are logged into Stripe.')}),(0,h.jsxs)("p",{children:[e("То add the Webhook Secret you need to go Developers -> Webhooks -> Add endpoint. Then add this link to the requested field "),(0,h.jsx)("strong",{children:"https://nubisreservation.com/api/places/".concat(localStorage.getItem("place_id"),"/webhook")})]}),(0,h.jsx)("p",{children:e('Don\'t forget to add events to the Webhook by pressing "Select events" and add Payment Intent/payment_intent.succeeded event')}),(0,h.jsx)("p",{children:e("Then under Signing secret please press Reveal button to get your Webhook Secret")})]})}),(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsx)(l.Z,{label:e("Stripe Key"),size:"small",fullWidth:!0,type:"text",id:"stripeKey",name:"stripeKey",required:!0,value:y,onChange:function(e){return b(e.target.value)}})}),(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsx)(l.Z,{label:e("Stripe Secret"),size:"small",fullWidth:!0,type:"text",id:"secretKey",name:"secretKey",required:!0,value:x,onChange:function(e){return S(e.target.value)}})}),(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsx)(l.Z,{label:e("Stripe Webhook Secret"),size:"small",fullWidth:!0,type:"text",id:"stripeWebhookSecret",name:"stripeWebhookSecret",required:!0,value:j,onChange:function(e){return w(e.target.value)}})}),(0,h.jsx)(o.Z,{variant:"contained",type:"submit",children:e("Save")})]})})})})]})}}}]);